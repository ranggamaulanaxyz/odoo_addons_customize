<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_bank_statement_line_form" model="ir.ui.view">
        <field name="name">account.bank.statement.line.form</field>
        <field name="model">account.bank.statement.line</field>
        <field name="arch" type="xml">
            <form string="Bank Statement Lines">
                <header>
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="statement_id" />
                            <field name="date" />
                            <field name="payment_ref" />
                            <field name="partner_id" />
                        </group>
                        <group>
                            <field name="amount" />
                            <field name="foreign_currency_id" />
                            <field name="journal_id" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Payments">
                            <field name="payment_ids" />
                        </page>
                        <page string="Other Info">
                            <group>
                                <group>
                                    <field name="account_number" />
                                    <field name="transaction_type" />
                                    <field name="internal_index" />
                                </group>
                                <group>
                                    <field name="currency_id" />
                                    <field name="amount_currency" />
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_bank_statement_line_quick_create_form" model="ir.ui.view">
        <field name="name">account.bank.statement.line.quick.create.form</field>
        <field name="model">account.bank.statement.line</field>
        <field name="arch" type="xml">
            <form string="New Transaction">
                <field name="journal_id" invisible="1" />
                <field name="currency_id" invisible="1" />
                <group class="o_quick_create p-2">
                    <field name="date" nolabel="1" />
                    <field name="payment_ref" class="o_payment_ref" required="1" nolabel="1"
                        placeholder="Write a label ..." />
                    <field name="partner_id" class="w-100" nolabel="1" placeholder="Partner" />
                    <field name="amount" class="w-100" nolabel="1" />
                </group>
            </form>
        </field>
    </record>

    <record id="view_bank_statement_line_kanban" model="ir.ui.view">
        <field name="name">account.bank.statement.line.kanban</field>
        <field name="model">account.bank.statement.line</field>
        <field name="arch" type="xml">
            <kanban js_class="bank_reconciliation_widget_kanban" on_create="quick_create"
                quick_create_view="xyz_account.view_bank_statement_line_quick_create_form">
                <field name="id" />
                <field name="state" />
                <field name="statement_complete" />
                <field name="statement_valid" />
                <field name="statement_balance_end_real" />
                <field name="statement_name" />
                <field name="journal_id" />
                <field name="statement_id" />
                <field name="is_reconciled" />
                <field name="checked" />
                <field name="currency_id" />
                <field name="partner_id" />
                <field name="amount" />
                <field name="amount_currency" />
                <field name="date" />
                <field name="payment_ref" />
                <field name="move_id" />
                <field name="line_ids" />
                <field name="account_number" />
                <field name="activity_ids" />
                <field name="company_id" />
                <field name="partner_name" />
                <field name="transaction_details" />
                <field name="foreign_currency_id" />
                <field name="bank_statement_attachment_ids" />
                <templates>
                    <!-- We are overriding the whole kanban record element, but we still need to
                    load the template
                             card. Look at the bank_reconciliation components to work on the view. -->
                    <t t-name="card" />
                </templates>
            </kanban>
        </field>
    </record>

    <record id="action_bank_statement_line_transactions_kanban" model="ir.actions.act_window">
        <field name="name">Bank Matching</field>
        <field name="res_model">account.bank.statement.line</field>
        <field name="view_mode">kanban,list</field>
        <field name="domain">[('state', '!=', 'cancel')]</field>
        <field name="context">{'default_journal_id': active_id, 'search_default_journal_id': active_id}</field>
        <field name="path">reconciliation</field>
    </record>
</odoo>